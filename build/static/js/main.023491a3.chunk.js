(this["webpackJsonpaerolab-challenge"]=this["webpackJsonpaerolab-challenge"]||[]).push([[0],{14:function(e,t,c){e.exports={container:"Header_container__3bp8U",cover:"Header_cover__1fJG6",userData:"Header_userData__1CVZL",logo:"Header_logo__2pYq5",fly:"Header_fly__1HB-u",name:"Header_name__2Gj4X",points:"Header_points__1jpMp",coin:"Header_coin__2WkmV"}},27:function(e,t,c){e.exports={container:"History_container__2LpGl",name:"History_name__1bIBP",cost:"History_cost__QhHHQ",category:"History_category__1NXyC"}},31:function(e,t,c){e.exports={container:"Filter_container__2vmJu",lowestPrice:"Filter_lowestPrice__183PX",highestPrice:"Filter_highestPrice__2xHPC",sort:"Filter_sort__5fnfQ"}},37:function(e,t,c){e.exports={container:"App_container__1P3LF",error:"App_error__1d0LI"}},39:function(e,t,c){e.exports={container:"Products_container__3qPdF",product:"Products_product__tB_7e",imageProduct:"Products_imageProduct__350vt",containerInfo:"Products_containerInfo__3V1MK",nameAndCategory:"Products_nameAndCategory__2YFiJ",productCategory:"Products_productCategory__2wuNI",coin:"Products_coin__c8Ipg"}},5:function(e,t,c){e.exports={container:"ProductContainer_container__3qIr2",productCategory:"ProductContainer_productCategory__1kM6f",nameAndCategory:"ProductContainer_nameAndCategory__S0Y4X",coin:"ProductContainer_coin__cGqae",containerInfo2:"ProductContainer_containerInfo2__30QGy",coin2:"ProductContainer_coin2__3SHb2",buy:"ProductContainer_buy__2Ia8R",padre:"ProductContainer_padre__2fY8n",hijo1:"ProductContainer_hijo1__qV5Zb",hijo2:"ProductContainer_hijo2__28RqJ"}},54:function(e,t,c){e.exports={container:"Loading_container__1SJ3H",fly:"Loading_fly__1-Oor"}},92:function(e,t,c){},93:function(e,t,c){"use strict";c.r(t);var n,r=c(0),a=c(6),s=c.n(a),i=c(20),o=c.n(i),u=c(35),d=c(9),l=c(36),j=c.n(l),b=c(26),h=c(55),p=c(1),m=function(e){var t=e.children,c=Object(h.a)(e,["children"]);return Object(p.jsx)("button",Object(b.a)(Object(b.a)({},c),{},{children:t}))},O=c(31),_=c.n(O),f=function(e){var t=e.filterSet;return Object(p.jsxs)("div",{className:_.a.container,children:[Object(p.jsx)("p",{className:_.a.sort,children:"Sort by:"}),Object(p.jsx)(m,{className:_.a.lowestPrice,onClick:function(){return t("lowestPrice")},children:"Lowest price"}),Object(p.jsx)(m,{className:_.a.highestPrice,onClick:function(){return t("highestPrice")},children:"Highest price"})]})},x=c(125),g=c(122),y=c(116),v=c.p+"static/media/coin.1fc21bda.svg",N=c.p+"static/media/logo.40b78ac9.svg",C=c(126),P=c(119),k=c(121),w=c(124),I=c(118),H=c(123),S=Object(y.a)((function(e){return Object(x.a)({root:{display:"flex"},paper:{marginRight:e.spacing(2)}})})),R=function(e){var t=e.name,c=e.children,n=e.styles,a=S(),s=r.useState(!1),i=Object(d.a)(s,2),o=i[0],u=i[1],l=r.useRef(null),j="",h="";"number"==typeof t&&(j=v,h="coin");var m=function(e){l.current&&l.current.contains(e.target)||u(!1)};function O(e){"Tab"===e.key&&(e.preventDefault(),u(!1))}var _=r.useRef(o);return r.useEffect((function(){!0===_.current&&!1===o&&l.current.focus(),_.current=o}),[o]),Object(p.jsx)("div",{className:t,children:Object(p.jsxs)("div",{className:a.root,children:[Object(p.jsxs)(C.a,{ref:l,"aria-controls":o?"menu-list-grow":void 0,"aria-haspopup":"true",style:n,onClick:function(){u((function(e){return!e}))},children:[t,Object(p.jsx)("img",{alt:h,className:v,src:j})]}),Object(p.jsx)(H.a,{disablePortal:!0,transition:!0,anchorEl:l.current,open:o,role:void 0,children:function(e){var t=e.TransitionProps,n=e.placement;return Object(p.jsx)(k.a,Object(b.a)(Object(b.a)({},t),{},{style:{transformOrigin:"bottom"===n?"center top":"center bottom"},children:Object(p.jsx)(I.a,{children:Object(p.jsx)(P.a,{onClickAway:m,children:Object(p.jsx)(w.a,{autoFocusItem:o,id:"menu-list-grow",onKeyDown:O,children:c})})})}))}})]})})},A=c(14),M=c.n(A),J=Object(y.a)((function(e){return Object(x.a)({root:{display:"flex"},paper:{marginRight:e.spacing(2)}})})),B=function(e){var t=e.points,c=e.user,n=e.addPoints,a=(e.history,e.redeem),s=(J(),r.useState(!1)),i=Object(d.a)(s,2),o=i[0],u=(i[1],r.useRef(null)),l=r.useState(!1),j=Object(d.a)(l,2),b=j[0],h=(j[1],r.useRef(null)),m=r.useRef(o);r.useEffect((function(){!0===m.current&&!1===o&&u.current.focus(),m.current=o}),[o]);var O=r.useRef(b);return r.useEffect((function(){!0===O.current&&!1===b&&h.current.focus(),O.current=b}),[b]),Object(p.jsxs)("div",{className:M.a.container,children:[Object(p.jsxs)("div",{className:M.a.userData,children:[Object(p.jsx)("img",{className:M.a.logo,src:N}),Object(p.jsx)("div",{className:M.a.name,children:Object(p.jsx)(R,{name:c,styles:{backgroundColor:"var(--primary)",color:""},children:Object(p.jsx)(g.a,{onClick:function(){a()},children:"Redeem history"})})}),Object(p.jsx)("div",{className:M.a.points,children:Object(p.jsxs)(R,{name:t,styles:{backgroundColor:"#ededed",color:"black"},children:[Object(p.jsxs)(g.a,{onClick:function(){n(1e3)},children:["Add 1000 ",Object(p.jsx)("img",{alt:"coin",className:M.a.coin,src:v})]}),Object(p.jsxs)(g.a,{onClick:function(){n(5e3)},children:["Add 5000",Object(p.jsx)("img",{alt:"coin",className:M.a.coin,src:v})]}),Object(p.jsxs)(g.a,{onClick:function(){n(7500)},children:["Add 7500",Object(p.jsx)("img",{alt:"coin",className:M.a.coin,src:v})]})]})})]}),Object(p.jsx)("div",{className:M.a.cover,children:Object(p.jsx)("h2",{children:"Electronics"})})]})},E=c.p+"static/media/buy-white.3eddcc1e.svg",F=c(5),L=c.n(F),q=function(e){var t=e.product,c=e.cost,n=e.disabled,a=e.styleButton,s=e.buy,i=r.useState(!1),o=Object(d.a)(i,2),u=o[0],l=o[1],j="";return!0!==n&&(j="Redeem now"),Object(p.jsxs)("div",{className:L.a.container,onMouseEnter:function(){return l(!0)},onMouseLeave:function(){return l(!1)},children:[!u&&Object(p.jsxs)("div",{className:L.a.containerInfo,children:[Object(p.jsx)("img",{alt:t.name,className:L.a.imageProduct,src:t.img.url}),Object(p.jsxs)("div",{className:L.a.nameAndCategory,children:[Object(p.jsx)("p",{className:L.a.productCategory,children:t.category}),Object(p.jsx)("p",{className:L.a.productName,children:t.name})]}),!0===n&&Object(p.jsxs)("div",{style:{backgroundColor:"#999999",opacity:"0.8",borderRadius:"50px",marginRight:"5%",verticalAlign:"bottom",textAlign:"right",width:"50%",color:"white"},children:[c," ",Object(p.jsx)("img",{alt:"coin",className:L.a.coin,src:v})]}),!1===n&&Object(p.jsxs)("div",{className:L.a.coin,children:[c," ",Object(p.jsx)("img",{alt:"coin",className:L.a.coin,src:v})]})]}),u&&Object(p.jsxs)("div",{className:L.a.padre,children:[Object(p.jsxs)("div",{className:L.a.hijo1,children:[Object(p.jsx)("img",{alt:t.name,className:L.a.imageProduct,src:t.img.url}),Object(p.jsxs)("div",{className:L.a.nameAndCategory,children:[Object(p.jsx)("p",{className:L.a.productCategory,children:t.category}),Object(p.jsx)("p",{className:L.a.productName,children:t.name})]})]}),Object(p.jsx)("div",{className:L.a.hijo2,children:Object(p.jsxs)("div",{className:L.a.containerInfo2,children:[Object(p.jsxs)("div",{className:L.a.coin2,children:[c," ",Object(p.jsx)("img",{alt:"coin",className:L.a.coin,src:v})]}),!0!==n&&Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{style:a,onClick:function(){return s(t._id)},children:Object(p.jsx)("img",{src:E})}),Object(p.jsx)("div",{className:L.a.buy,children:j})]})]})})]})]})},z=c(39),D=c.n(z),Q=function(e){var t=e.p,c=e.buy,n=e.points,r=e.orden,a="",s=!1,i={};return Object(p.jsx)("div",{children:Object(p.jsx)("div",{className:D.a.container,children:function(e,t){switch(t){case"highestPrice":return e.sort((function(e,t){return t.cost-e.cost}));case"lowestPrice":return e.sort((function(e,t){return e.cost-t.cost}));case"default":return e.sort();default:return e}}(t,r).map((function(e){return e.cost<=n?(a=e.cost.toString(),s=!1,i={backgroundColor:"transparent",color:"none",width:"13%",cursor:"pointer",borderRadius:"100%"}):(a="You need "+(e.cost-n).toString(),s=!0),Object(p.jsx)("div",{className:D.a.product,children:Object(p.jsx)(q,{buy:c,cost:a,disabled:s,product:e,styleButton:i})},e._id+e.name+e.cost)}))})})},G=c(27),V=c.n(G),X=function(e){var t=e.history,c=e.back,n=0;return Object(p.jsxs)("div",{className:V.a.container,children:[Object(p.jsx)("h1",{children:"Redeem history"}),Object(p.jsx)(m,{onClick:c,children:"Back"}),Object(p.jsxs)("table",{className:V.a.info,children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{}),Object(p.jsx)("th",{className:V.a.category,children:"Category"}),Object(p.jsx)("th",{className:V.a.name,children:"Name"}),Object(p.jsx)("th",{className:V.a.cost,children:"Cost"})]}),t.map((function(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:Object(p.jsx)("img",{src:e.img.url})}),Object(p.jsx)("td",{children:Object(p.jsx)("div",{children:e.category})}),Object(p.jsx)("td",{children:Object(p.jsx)("div",{children:e.name})}),Object(p.jsx)("td",{children:Object(p.jsx)("div",{children:e.cost})})]},n++)}))]})]})},Y=c(54),T=c.n(Y),Z=function(){return Object(p.jsx)("div",{className:T.a.container,children:Object(p.jsx)("img",{src:N})})};!function(e){e.Init="init",e.Pending="pending",e.Ready="ready"}(n||(n={}));var U="https://coding-challenge-api.aerolab.co/",K={Accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MDMwM2I1MzdlNzE4NzAwMjBlMzhlZmMiLCJpYXQiOjE2MTM3NzM2NTF9.DZV50Q3aMGQi7_wtMt70dBIUopHcDBVXeOH_sNfzkpg","Content-Type":"application/json"},W=c(37),$=c.n(W),ee=function(){var e=r.useState(n.Init),t=Object(d.a)(e,2),c=t[0],a=t[1],s=r.useState({id:"",name:"",points:0,redeemHistory:[]}),i=Object(d.a)(s,2),l=i[0],b=i[1],h=r.useState(""),O=Object(d.a)(h,2),_=O[0],x=O[1],g=r.useState([]),y=Object(d.a)(g,2),v=y[0],N=y[1],C=r.useState(!1),P=Object(d.a)(C,2),k=P[0],w=P[1],I=r.useState(!1),H=Object(d.a)(I,2),S=H[0],R=H[1],A=r.useState([]),M=Object(d.a)(A,2),J=M[0],E=M[1],F=r.useState(!1),L=Object(d.a)(F,2),q=L[0],z=L[1],D=r.useState(""),G=Object(d.a)(D,2),V=G[0],Y=G[1],T=r.useState(!1),W=Object(d.a)(T,2),ee=W[0],te=W[1];r.useEffect((function(){n.Init}),[c]),r.useEffect((function(){if(c===n.Pending&&!k)return ce("user"),void ce("products")}),[c,k]);var ce=function(){var e=Object(u.a)(o.a.mark((function e(t){var c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="","user"===t&&(c="user/me"),"products"===t&&(c="products"),"history"===t&&(c="user/history"),e.prev=4,e.next=7,j.a.get(U+c,{headers:K});case 7:r=e.sent,"user"===t&&(b(r.data),a(n.Ready)),"products"===t&&(N(r.data),w(!0)),"history"===t&&E(r.data),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),x(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(u.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={amount:t},e.prev=1,e.next=4,j.a.post("".concat(U,"user/points"),c,{headers:K});case 4:e.sent,R(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.response.request._response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(u.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={productId:t},e.prev=1,e.next=4,j.a.post("".concat(U,"redeem"),c,{headers:K});case 4:e.sent,R(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.response.request._response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return!0===S&&(ce("user"),R(!1)),c===n.Pending?Object(p.jsx)(Z,{}):!0===q?(ce("history"),Object(p.jsx)(X,{back:function(){z(!1)},history:J})):c===n.Ready&&!0===k||!0===ee?(!0===ee&&te(!1),Object(p.jsxs)("div",{className:$.a.container,children:[Object(p.jsx)(B,{addPoints:function(e){ne(e)},history:(ce("history"),J),points:l.points,redeem:function(){z(!0)},user:l.name}),Object(p.jsx)(f,{filterSet:function(e){Y(e),te(!0)}}),Object(p.jsx)(Q,{buy:function(e){re(e)},orden:V,p:v,points:l.points})]})):Object(p.jsxs)("main",{className:$.a.container,children:[Object(p.jsx)("h1",{children:"Aerolab Challenge"}),Object(p.jsx)(m,{onClick:function(){a(n.Pending)},children:"Ingresar"}),Object(p.jsx)("p",{className:$.a.error,children:_})]})};c(92);s.a.render(Object(p.jsx)(ee,{}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.023491a3.chunk.js.map